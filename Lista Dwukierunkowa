=======================
namespace Lista_2_kierunkowa_Nauka
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        ListaDwukierunkowa lista = new ListaDwukierunkowa();

        private void Dodaj_Click(object sender, EventArgs e)
        {
            int liczba = int.Parse(textBoxwpisz.Text);
            lista.dodajNaKoniec(liczba);
            textBoxwynik.Text = lista.wypiszWynik();
            textBoxwpisz.Clear();
        }

        private void textBoxwynik_TextChanged(object sender, EventArgs e)
        {

        }

        private void textBoxwpisz_TextChanged(object sender, EventArgs e)
        {

        }

        private void dodajPrzed_Click(object sender, EventArgs e)
        {
            int liczbaSzukana = int.Parse(wpiszDodajPrzed.Text);
            int liczba = int.Parse(liczbaDoDodaniaPrzed.Text);
            lista.dodajPrzed(liczba, liczbaSzukana);
            textBoxwynik.Text = lista.wypiszWynik();
            wpiszDodajPrzed.Clear();
            liczbaDoDodaniaPrzed.Clear();
        }

        private void wpiszDodajPrzed_TextChanged(object sender, EventArgs e)
        {

        }

        private void liczbaDoDodaniaPrzed_TextChanged(object sender, EventArgs e)
        {

        }

        private void usun_Click(object sender, EventArgs e)
        {
            int liczba = int.Parse(textBoxUsun.Text);
            lista.usun(liczba);
            textBoxwynik.Text = lista.wypiszWynik();
            textBoxUsun.Clear();
        }

        private void textBoxUsun_TextChanged(object sender, EventArgs e)
        {

        }

        private void dodajPo_Click(object sender, EventArgs e)
        {
            int liczba = int.Parse(textBoxLiczbaDoDodaniaPo.Text);
            int liczbaPo = int.Parse(textBoxDodajPo.Text);
            lista.dodajPo(liczba, liczbaPo);
            textBoxwynik.Text = lista.wypiszWynik();
            textBoxLiczbaDoDodaniaPo.Clear();
            textBoxDodajPo.Clear();
        }

        private void textBoxDodajPo_TextChanged(object sender, EventArgs e)
        {

        }

        private void textBoxLiczbaDoDodaniaPo_TextChanged(object sender, EventArgs e)
        {

        }
    }
}
==============================================================
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Lista_2_kierunkowa_Nauka
{
    internal class Element
    {
        public int wartosc;
        public Element prev;
        public Element next;

        public Element(int wartosc)
        {
            this.wartosc = wartosc;
            prev = null;
            next = null;
        }
    }
    internal class ListaDwukierunkowa
    {
        public Element head;
        public Element tail;
        public int liczbaElementow;

        public ListaDwukierunkowa()
        {
            head = null;
            tail = null;
            
        }

        public void dodajNaKoniec(int wartosc)
        {
            Element nowy = new Element(wartosc);
            if(head == null)
            {
                head = nowy;
                tail = nowy;
            }
            else
            {
                tail.next = nowy;
                nowy.prev = tail;
                tail = nowy;
            }
            

        }

        public void dodajPrzed(int wartosc, int szukana)
        {
            Element nowy = new Element(wartosc);
            Element current = head;

            while(current != null && current.wartosc != szukana)
            {
                current = current.next;
            }
            if(current == null)
            {
                return;
            }
            if(current == head)
            {
                nowy.next = head;
                head.prev = nowy;
                head = nowy;
                
                return;
            }
            else
            {
                nowy.prev = current.prev;
                nowy.next = current;
                current.prev.next = nowy;
                current.prev = nowy;
                
            }


        }

        public void dodajPo(int wartosc, int szukana)
        {
            Element nowy = new Element(wartosc);
            Element current = head;

            while (current != null && current.wartosc != szukana)
            {
                current = current.next;
            }

            if(current == null)
            {
                return;
            }

            if (current == tail)
            {
                nowy.prev = tail;
                tail.next = nowy;
                tail = nowy; 
            }
            
            else
            {
                nowy.next = current.next;   
                nowy.prev = current;        
                current.next.prev = nowy;   
                current.prev = nowy;        
            }


        }

        

        public void usun(int wartosc)
        {
            if (head == null) return;

            Element current = head;
            while (current != null && current.wartosc != wartosc)
            {
                current = current.next;
            }

            if (current == null) return;

            
            if (current == head)
            {
                head = current.next;
                if (head != null)
                    head.prev = null;
                else
                    tail = null; 
            }
            
            else if (current == tail)
            {
                tail = current.prev;
                tail.next = null; 
            }
            
            else
            {
                current.prev.next = current.next;
                current.next.prev = current.prev;
            }

            
        }

        public string wypiszWynik()
        {
            String wynik = "";
            Element current = head;
            while (current != null)
            {
                wynik = wynik + current.wartosc + " ";
                current = current.next;
            }
            return wynik;  
        }
    }
    
}
